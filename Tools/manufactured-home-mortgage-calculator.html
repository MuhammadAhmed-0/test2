<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Calculate manufactured home mortgage payments. Mobile home financing with DTI analysis, PMI & qualification requirements. Free calculator!">
  <title>Manufactured Home Mortgage Calculator</title>
  <!-- Favicon Link -->
  <link rel="icon" href="../Favicon.png" type="image/png">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Manufactured Home Mortgage Calculator",
    "description": "Calculate manufactured home mortgage payments. Mobile home financing with DTI analysis, PMI & qualification requirements. Free calculator!",
    "url": "https://usefreecalculator.com/Tools/manufactured-home-mortgage-calculator.html",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Web Browser",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "creator": {
      "@type": "Organization",
      "name": "Free Calculator"
    }
  }
  </script>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/tools/apush.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    /* Result Section */
    #result {
      margin-top: 2rem;
      padding: 2rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 20px;
      display: none;
      box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
      font-family: 'Arial', sans-serif;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    #result::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {

      0%,
      100% {
        transform: rotate(0deg);
      }

      50% {
        transform: rotate(180deg);
      }
    }

    #result h3 {
      color: white;
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      position: relative;
      z-index: 1;
    }

    /* Monthly Payment Display */
    #monthlyPayment {
      font-size: 4rem;
      font-weight: 800;
      color: #ffffff;
      margin-bottom: 1rem;
      text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      position: relative;
      z-index: 1;
      background: linear-gradient(45deg, #ffd700, #ffed4e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* DTI Info Section */
    #dti-info {
      margin-top: 2rem;
      padding: 1.5rem;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(240, 147, 251, 0.3);
      display: none;
    }

    #dti-info h4 {
      color: white;
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 1rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    #dti-info p {
      color: #f0f0f0;
      font-size: 1.1rem;
      margin: 0.5rem 0;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    #dtiRatio {
      font-size: 1.8rem;
      font-weight: 700;
      color: #ffd700;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    /* Summary Section */
    #summary-section {
      margin-top: 2rem;
      background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(252, 182, 159, 0.3);
      display: none;
    }

    #summary-section h4 {
      font-size: 1.8rem;
      color: #8b4513;
      font-weight: 700;
      margin-bottom: 1.5rem;
      text-align: center;
      text-shadow: 0 2px 4px rgba(139, 69, 19, 0.2);
    }

    #summaryText {
      background: rgba(255, 255, 255, 0.9);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      border-left: 4px solid #ff6b35;
      font-size: 1.1rem;
      color: #2c3e50;
      line-height: 1.6;
    }

    /* Calculate Button */
    .calculate-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1.2rem 3rem;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-size: 1.2rem;
      font-weight: 700;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
    }

    .calculate-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .calculate-btn:hover::before {
      left: 100%;
    }

    .calculate-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
    }

    .calculate-btn:active {
      transform: translateY(-1px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    }

    /* Input Fields */
    .input-group {
      margin-bottom: 1.5rem;
    }

    .input-group label {
      display: block;
      margin-bottom: 0.8rem;
      color: #2c3e50;
      font-weight: 600;
      font-size: 1.1rem;
    }

    .input-group input,
    .input-group select {
      width: 100%;
      padding: 1.2rem;
      border: 2px solid #e0e6ed;
      border-radius: 12px;
      font-size: 1.1rem;
      background: #f8f9fa;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .input-group input:focus,
    .input-group select:focus {
      outline: none;
      border-color: #667eea;
      background-color: #ffffff;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      transform: translateY(-1px);
    }

    /* Toggle Input for Down Payment */
    .toggle-input {
      display: flex;
      gap: 0.5rem;
    }

    .toggle-input input {
      flex: 1;
    }

    .toggle-input select {
      width: 80px;
      flex-shrink: 0;
    }

    /* Animations */
    @keyframes bounceIn {
      0% {
        opacity: 0;
        transform: scale(0.3);
      }

      50% {
        opacity: 1;
        transform: scale(1.05);
      }

      70% {
        transform: scale(0.9);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    .animate-result {
      animation: bounceIn 0.6s ease-out;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .calculator-box {
        padding: 1.5rem;
      }

      #monthlyPayment {
        font-size: 2.5rem;
      }

      #result {
        padding: 1.5rem;
      }

      .calculate-btn {
        padding: 1rem 2rem;
        font-size: 1rem;
      }

      .toggle-input {
        flex-direction: column;
      }

      .toggle-input select {
        width: 100%;
      }
    }
  </style>

</head>

<body>
  <!-- Announcemnet section -->
  <div class="top-announcement-bar">
    <div class="announcement-number">New Announcement</div>
    <div class="announcement-text">
      Explore the latest IT tools and expert resources at <a href="https://resourcesofdev.com" target="_blank"
        rel="noopener noreferrer" class="announcement-link">Resourcesofdev.com</a>
    </div>
  </div>

  <header>
    <nav>
      <div class="logo">
        <h1>Free Calculator</h1>
      </div>
      <div class="nav-links">
        <a href="../index.html"><i class="fas fa-home"></i> Home</a>
        <a href="../index.html"><i class="fas fa-tools"></i> Tools</a>
        <a href="../about.html"><i class="fas fa-info-circle"></i> About</a>
        <a href="../contact.html"><i class="fas fa-envelope"></i> Contact</a>
      </div>
      <div class="mobile-menu-toggle" id="mobileMenuToggle">
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
      </div>
    </nav>
  </header>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

  <!-- Mobile Menu Panel -->
  <div class="mobile-menu-panel" id="mobileMenuPanel">
    <div class="mobile-menu-header">
      <h2>Menu</h2>
      <button class="mobile-menu-close" id="mobileMenuClose">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="mobile-menu-items">
      <a href="../index.html">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
      <a href="#tools">
        <i class="fas fa-tools"></i>
        <span>Tools</span>
      </a>
      <a href="#about">
        <i class="fas fa-info-circle"></i>
        <span>About</span>
      </a>
      <a href="#contact">
        <i class="fas fa-envelope"></i>
        <span>Contact</span>
      </a>
    </div>
  </div>
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1>Manufactured Home Mortgage Calculator</h1>
    </div>
  </section>

<!-- Responsive Banner -->
<section class="banner" style="text-align: center; margin-top: 10px;">
  <a href="https://bluehost.sjv.io/aeducateweb" target="_blank" style="display: inline-block;">
    <img 
      src="../Hosting 1-728x90.png" 
      alt="Advertisement" 
      style="max-width: 100%; height: auto; width: 700px; display: inline-block;">
  </a>
</section>

  <div class="tool-container">
    <aside class="left-sidebar">
      <h3>Related Tools</h3>
      <ul>
        <li><a href="land-mortgage-calculator.html">Land Mortgage Calculator</a></li>
        <li><a href="oklahoma-mortgage-calculator.html">Oklahoma Mortgage Calculator</a></li>
        <li><a href="blended-rate-calculator.html">Blended Rate Calculator</a></li>
        <li><a href="stock-average-down-calculator.html">Stock Average Down Calculator</a></li>
        <li><a href="split-bill-calculator.html">Split Bill Calculator</a></li>
      </ul>
    </aside>
    <div class="main-content-column">
      <main class="calculator-content">
        <h1>Calculate Your Manufactured Home Mortgage</h1>
        <div class="calculator-box">
          <div class="input-group">
            <label for="income">Gross Income (Monthly):</label>
            <input type="text" id="income" value="$5000" placeholder="Enter your monthly income">
          </div>
          <div class="input-group">
            <label for="debts">Monthly Debts:</label>
            <input type="text" id="debts" value="$500" placeholder="Enter your monthly debts">
          </div>
          <div class="input-group">
            <label for="homePrice">Home Price:</label>
            <input type="text" id="homePrice" value="$100000" placeholder="Enter home price">
          </div>
          <div class="input-group">
            <label for="downPayment">Down Payment:</label>
            <div class="toggle-input">
              <input type="text" id="downPayment" value="$20000" placeholder="Enter down payment">
              <select id="downType">
                <option value="$">$</option>
                <option value="%">%</option>
              </select>
            </div>
          </div>
          <div class="input-group">
            <label for="loanTerm">Loan Term (Years):</label>
            <input type="number" id="loanTerm" value="30" placeholder="Enter loan term">
          </div>
          <div class="input-group">
            <label for="interestRate">Interest Rate (%):</label>
            <input type="number" step="0.01" id="interestRate" value="7.5" placeholder="Enter interest rate">
          </div>
          <div class="input-group">
            <label for="creditScore">Credit Score:</label>
            <select id="creditScore">
              <option>620–639</option>
              <option>640–659</option>
              <option>660–679</option>
              <option>680–699</option>
              <option>700–719</option>
              <option>720+</option>
            </select>
          </div>
          <div class="input-group">
            <label for="propTax">Property Tax (Yearly):</label>
            <input type="text" id="propTax" value="$1200" placeholder="Enter yearly property tax">
          </div>
          <div class="input-group">
            <label for="insurance">Homeowners Insurance (Yearly):</label>
            <input type="text" id="insurance" value="$800" placeholder="Enter yearly insurance">
          </div>
          <div class="input-group">
            <label for="pmi">PMI (Yearly):</label>
            <input type="text" id="pmi" value="$1500" placeholder="Enter yearly PMI">
          </div>
          <div class="input-group">
            <label for="hoa">HOA Dues (Monthly):</label>
            <input type="text" id="hoa" value="$0" placeholder="Enter monthly HOA dues">
          </div>
          <button onclick="calculateMortgage()" class="calculate-btn">Calculate Mortgage</button>

          <div id="result" class="result">
            <h3>Monthly Mortgage Payment</h3>
            <p id="monthlyPayment">$0.00</p>
          </div>

          <!-- DTI Info Section -->
          <div id="dti-info">
            <h4>Debt-to-Income Ratio</h4>
            <p id="dtiRatio">0%</p>
            <p>Typically, a DTI under 36% is ideal. Many loan programs allow up to 50% DTI.</p>
          </div>

          <!-- Summary Section -->
          <div id="summary-section">
            <h4>Mortgage Summary</h4>
            <div id="summaryText">
              Waiting for calculation...
            </div>
          </div>
        </div>
      </main>


      <article class="calculator-article">

        <h2>Manufactured Home Mortgage Calculator – Estimate Your Monthly Payments</h2>
        <p>
          Planning to buy a manufactured or mobile home? The <strong>Manufactured Home Mortgage Calculator</strong>
          allows you to estimate your monthly mortgage payment, understand your debt-to-income ratio (DTI), and assess
          qualification requirements. Enter your income, debts, home price, down payment, loan term, interest rate, PMI,
          insurance, property tax, and HOA fees to get an accurate monthly payment breakdown.
        </p>

        <h2>Why Using This Calculator Matters</h2>

        <h3>Financial Planning</h3>
        <p>
          Manufactured homes often have different financing options, including chattel loans (personal property) and
          traditional real estate loans (land + home). This calculator helps determine monthly affordability and
          prevents overextending your budget.
        </p>

        <h3>Debt-to-Income Analysis</h3>
        <p>
          Lenders use DTI to evaluate eligibility. A DTI below 36% is ideal, while ratios above 43–50% may require
          additional documentation or adjustments.
        </p>

        <h3>Comparing Loan Options</h3>
        <p>
          By entering different down payments, interest rates, or loan terms, you can compare monthly payments across
          multiple scenarios, helping you select the best financing option for your situation.
        </p>

        <h2>How the Manufactured Home Mortgage Calculator Works</h2>

        <h3>Inputs Required</h3>
        <ul>
          <li><strong>Gross Monthly Income:</strong> Your total income before taxes.</li>
          <li><strong>Monthly Debts:</strong> Existing obligations like car loans, credit cards, or personal loans.</li>
          <li><strong>Home Price:</strong> Total cost of the manufactured home.</li>
          <li><strong>Down Payment:</strong> Amount or percentage of home price.</li>
          <li><strong>Loan Term:</strong> Duration in years.</li>
          <li><strong>Interest Rate:</strong> Annual percentage rate (APR).</li>
          <li><strong>Credit Score:</strong> Influences eligibility and interest rate.</li>
          <li><strong>Property Tax:</strong> Annual property tax.</li>
          <li><strong>Insurance:</strong> Annual homeowners insurance.</li>
          <li><strong>PMI:</strong> Private mortgage insurance (required if down < 20%).</li>
          <li><strong>HOA Dues:</strong> Monthly homeowner association fees.</li>
        </ul>

        <h3>Calculation Logic</h3>
        <p>
          The calculator first determines the loan amount (<em>home price − down payment</em>), then calculates the
          monthly principal and interest using the standard mortgage formula. PMI is included if down payment is below
          20%. Monthly property tax, insurance, and HOA dues are added to compute the total monthly payment. Finally,
          the DTI is calculated as <em>monthly debts ÷ gross income × 100</em> and interpreted to provide qualification
          insights.
        </p>

        <h2>Step-by-Step Guide to Using the Calculator</h2>

        <h3>1. Enter Home Price</h3>
        <p>
          Input the total cost of your manufactured home. Accuracy is crucial for reliable results.
        </p>

        <h3>2. Enter Down Payment</h3>
        <p>
          Enter the down payment as a dollar amount or percentage. Larger down payments reduce loan amount, PMI, and
          monthly payments.
        </p>

        <h3>3. Choose Loan Term & Interest Rate</h3>
        <p>
          Select the number of years for repayment and the interest rate (APR). Longer terms reduce monthly payment but
          increase total interest.
        </p>

        <h3>4. Enter Property Tax, Insurance, and HOA Fees</h3>
        <p>
          Provide annual property tax, homeowners insurance, and monthly HOA dues to calculate total monthly costs.
        </p>

        <h3>5. Input Income and Monthly Debts</h3>
        <p>
          Enter gross monthly income and current monthly debts to calculate DTI, a key metric for loan qualification.
        </p>

        <h3>6. Click “Calculate Mortgage”</h3>
        <p>
          The calculator displays the total monthly payment, a breakdown of principal, interest, PMI, taxes, insurance,
          HOA, and your DTI percentage with guidance.
        </p>

        <h2>Understanding Your Results</h2>

        <h3>Monthly Payment Breakdown</h3>
        <ul>
          <li><strong>Principal & Interest:</strong> The core mortgage payment based on loan amount, term, and interest
            rate.</li>
          <li><strong>PMI:</strong> Required if down payment < 20%.</li>
          <li><strong>Property Tax & Insurance:</strong> Divided into monthly contributions.</li>
          <li><strong>HOA Dues:</strong> Monthly homeowner association fees.</li>
          <li><strong>Total Payment:</strong> Sum of all components.</li>
        </ul>

        <h3>Debt-to-Income Ratio (DTI)</h3>
        <p>
          The DTI helps assess your ability to afford the mortgage. A DTI <36% is excellent, 36–43% is good, 43–50%
            acceptable, and above 50% may require adjustments or reduce approval chances. </p>

            <h3>Credit Score Impact</h3>
            <p>
              Higher credit scores may reduce interest rates and PMI requirements, resulting in lower monthly payments.
            </p>

            <h2>Example Scenarios</h2>

            <h3>Example A – 100k Home, 20k Down, 30-Year Loan, 7.5% Interest</h3>
            <p>
              Loan Amount: $80,000<br>
              Monthly PI: $559.46<br>
              PMI: $0 (down ≥20%)<br>
              Property Tax: $100/month<br>
              Insurance: $66.67/month<br>
              Total Monthly Payment: $725.13<br>
              DTI: 25% → Excellent
            </p>

            <h3>Example B – 120k Home, 10% Down, 25-Year Loan, 8% Interest</h3>
            <p>
              Loan Amount: $108,000<br>
              Monthly PI: $832.07<br>
              PMI: $150/month<br>
              Property Tax: $120/month<br>
              Insurance: $75/month<br>
              Total Monthly Payment: $1,177.07<br>
              DTI: 40% → Good
            </p>

            <h2>Best Practices & Tips</h2>
            <ul>
              <li>Save for a larger down payment to reduce PMI and monthly payments.</li>
              <li>Maintain low DTI to improve loan approval chances.</li>
              <li>Improve credit score to qualify for better rates.</li>
              <li>Compare loan types: chattel loans vs real estate loans.</li>
              <li>Include property tax, insurance, and HOA in budgeting.</li>
            </ul>

            <h2>Frequently Asked Questions (FAQs)</h2>

            <h3>What is PMI and why is it required?</h3>
            <p>
              Private Mortgage Insurance protects lenders if your down payment is less than 20%. It increases monthly
              payments but can sometimes be removed later.
            </p>

            <h3>How does down payment affect monthly payment?</h3>
            <p>
              Higher down payment reduces loan amount, potentially eliminating PMI and lowering monthly payments.
            </p>

            <h3>What is a good DTI ratio?</h3>
            <p>
              Under 36% is ideal. Lenders may accept up to 50%, but lower is better for loan approval and financial
              health.
            </p>

            <h3>Can I qualify with a low credit score?</h3>
            <p>
              Possibly, but interest rates may be higher. Improving credit score before applying can reduce costs.
            </p>

            <h3>Does loan term affect total interest?</h3>
            <p>
              Yes. Longer terms reduce monthly payments but increase total interest paid over the life of the loan.
            </p>

            <h3>Are property taxes and insurance included in the monthly payment?</h3>
            <p>
              Yes. Including them ensures accurate budgeting for total monthly housing costs.
            </p>

            <h3>Difference between chattel loan and real estate loan?</h3>
            <p>
              Chattel loans finance only the home (personal property) and often have higher rates. Real estate loans
              include land + home and have lower rates.
            </p>

            <h2>Conclusion & Next Steps</h2>
            <p>
              Use the <strong>Manufactured Home Mortgage Calculator</strong> to estimate your monthly payments, assess
              DTI, and plan your budget. Compare scenarios, adjust down payment or loan term, and consult a mortgage
              professional to finalize financing. Proper planning ensures affordability and a smooth path to
              homeownership.
            </p>

      </article>


    </div>

    <aside class="right-sidebar">
      <div class="ad-space">
        <div class="ad-placeholder">
          <a href="https://bluehost.sjv.io/aeducateweb" target="_blank">
            <img src="../Bluehost300by250.webp" alt="Advertisement 1">
          </a>
        </div>
      </div>
      <div class="ad-space">
        <div class="ad-placeholder">
          <a href="https://hostgator.pvxt.net/aeducateweb" target="_blank">
            <img src="../Hostgator_300x250.webp" alt="Advertisement 2">
          </a>
        </div>
      </div>
      <div class="ad-space">
        <div class="ad-placeholder">
          <a href="https://hostinger.sjv.io/aeducateweb" target="_blank">
            <img src="../Hostinger300x250-EN.webp" alt="Advertisement 3">
          </a>
        </div>
      </div>
    </aside>
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>About Calculator Tools</h3>
        <p>Your trusted source for online calculation tools</p>
      </div>
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="../index.html#tools">Tools</a></li>
          <li><a href="../about.html">About</a></li>
          <li><a href="../contact.html">Contact</a></li>
          <li><a href="../privacy-policy.html">Privacy Policy</a></li>
          <li><a href="../terms-of-service.html">Terms of Service</a></li>
          <li><a href="../disclaimer.html">Disclaimer</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Contact Us</h3>
        <p>Email: info@freecalculator.com</p>
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-linkedin"></i></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Free Calculator. All rights reserved.</p>
    </div>
  </footer>

  <script src="../js/calculator.js"></script>
  <script>
    function calculateMortgage() {
      // Get input values and remove any dollar signs or non-numeric characters
      const income = parseFloat(document.getElementById('income').value.replace(/[^0-9.]/g, '')) || 0;
      const debts = parseFloat(document.getElementById('debts').value.replace(/[^0-9.]/g, '')) || 0;
      const homePrice = parseFloat(document.getElementById('homePrice').value.replace(/[^0-9.]/g, '')) || 0;
      let downPayment = parseFloat(document.getElementById('downPayment').value.replace(/[^0-9.]/g, '')) || 0;
      const downType = document.getElementById('downType').value;
      const interestRate = parseFloat(document.getElementById('interestRate').value) / 100 || 0;
      const loanTerm = parseInt(document.getElementById('loanTerm').value) || 30;
      const pmiYearly = parseFloat(document.getElementById('pmi').value.replace(/[^0-9.]/g, '')) || 0;
      const hoa = parseFloat(document.getElementById('hoa').value.replace(/[^0-9.]/g, '')) || 0;
      const propTax = parseFloat(document.getElementById('propTax').value.replace(/[^0-9.]/g, '')) || 0;
      const insurance = parseFloat(document.getElementById('insurance').value.replace(/[^0-9.]/g, '')) || 0;

      // Validate homePrice (only this field is mandatory)
      if (homePrice <= 0) {
        alert('Please enter a valid value for home price.');
        return;
      }

      // Convert percentage down payment to dollar amount
      if (downType === '%') {
        downPayment = (downPayment / 100) * homePrice;
      }

      // Calculate loan amount
      const loanAmount = homePrice - downPayment;

      if (loanAmount <= 0) {
        alert('Down payment cannot be greater than or equal to home price.');
        return;
      }

      // Monthly interest rate
      const monthlyRate = interestRate / 12;
      const totalPayments = loanTerm * 12;

      // Calculate monthly principal and interest
      let monthlyPI = 0;
      if (monthlyRate > 0) {
        monthlyPI = (loanAmount * monthlyRate) / (1 - Math.pow(1 + monthlyRate, -totalPayments));
      } else {
        monthlyPI = loanAmount / totalPayments;
      }

      // Calculate PMI (only if down payment is less than 20%)
      const downPaymentPercentage = downPayment / homePrice;
      const monthlyPMI = (downPaymentPercentage < 0.2) ? (pmiYearly / 12) : 0;

      // Calculate monthly property tax and insurance
      const monthlyPropTax = propTax / 12;
      const monthlyInsurance = insurance / 12;

      // Calculate total monthly payment (excluding the "debts")
      const totalMonthly = monthlyPI + monthlyPMI + monthlyPropTax + monthlyInsurance + hoa;

      // Calculate debt-to-income ratio (DTI) **only using debts and income**
      let dti = 0;
      let dtiMessage = '';
      if (income > 0 && debts > 0) {
        // Use only the user's debts, not totalMonthly
        const totalDebt = debts;
        dti = (totalDebt / income) * 100;

        // DTI calculation message
        const dtiStatus = dti <= 36 ? 'excellent' : (dti <= 43 ? 'good' : (dti <= 50 ? 'acceptable' : 'high'));
        dtiMessage = `Your debt-to-income ratio is <strong>${dti.toFixed(2)}%</strong>, which is considered ${dtiStatus}. ` +
          (dti > 50 ? 'You may need to reduce debt or increase income to qualify for most loan programs.' :
            dti > 43 ? 'You should qualify for most loan programs, but shop around for the best rates.' :
              'You have excellent qualifying ratios for most loan programs.');
      } else {
        // If DTI fields are not provided, add message to results
        dtiMessage = 'To calculate the Debt-to-Income ratio, please enter both your monthly income and monthly debts.';
      }

      // Display results
      const resultDiv = document.getElementById('result');
      resultDiv.style.display = 'block';
      resultDiv.className = 'result animate-result';

      document.getElementById('monthlyPayment').textContent = '$' + totalMonthly.toFixed(2);

      // Show DTI section
      const dtiSection = document.getElementById('dti-info');
      dtiSection.style.display = 'block';
      document.getElementById('dtiRatio').textContent = dti > 0 ? dti.toFixed(2) + '%' : 'N/A';

      // Show summary section
      const summarySection = document.getElementById('summary-section');
      summarySection.style.display = 'block';

      document.getElementById('summaryText').innerHTML = `
        <strong>Monthly Payment Breakdown:</strong><br>
        • Principal & Interest: $${monthlyPI.toFixed(2)}<br>
        • Property Tax: $${monthlyPropTax.toFixed(2)}<br>
        • Insurance: $${monthlyInsurance.toFixed(2)}<br>
        • PMI: $${monthlyPMI.toFixed(2)}<br>
        • HOA Dues: $${hoa.toFixed(2)}<br><br>

        <strong>Total Monthly Payment: $${totalMonthly.toFixed(2)}</strong><br><br>
        ${dtiMessage}
    `;
    }



  </script>
</body>

</html>